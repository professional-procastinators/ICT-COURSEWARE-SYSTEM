<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>ICT Courseware</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/TCSHS-LOGO.png">
    <link rel="stylesheet" type="text/css" href="css/style-lesson.css">
    <link rel="stylesheet" href="animate.css-master/animate.min.css">
    <link rel="stylesheet" href="bootstrap-4.0.0-dist/css/bootstrap.css">
    <link rel="stylesheet" href="css/fancybox.css">
    <link rel="stylesheet" href="css/hover.min.css">
    <link rel="stylesheet" href="./alima/sweetalert2.min.css">
    <script src="./alima/sweetalert2.all.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>

<body>
    <section id="particles-js">
        <!--MAIN MENU-->
        <!--LESSON-->
        <div class="row">
            <a><img src="img/folder.png" class="rounded float-left animated tada hvr-wobble-to-bottom-right" id="img-lessons"></a>
            <h1 class="display-4 animated fadeIn slow" id="txt-lessons">Lessons</h1>

            <a data-toggle="modal" data-target=".bd-example-modal-lg"><img src="img/vid.png" class="rounded float-left animated tada hvr-wobble-to-bottom-right"
                    id="img-vid"></a>
            <h1 class="display-4 animated fadeIn slow" id="txt-vid">Instructional Video</h1>
            <!--MODAL-->
            <div class="modal animated bounceIn bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
                aria-hidden="false">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                            <div class="modal-header">
                                    <h4 class="modal-title">Modal Heading</h4>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                  </div>
                                <div class="modal-body">
                                    <div class="embed-responsive embed-responsive-16by9">
                                        <!--<iframe  id="cartoonVideo" src="ICT_VIDEO.mp4" frameborder="0" preload="none"></iframe>-->
                                        <video id="cartoonVideo" controls>
                                            <source src="TCSHS_ICTVID.mp4" type="video/mp4">
                                        </video>
                                        
                                    </div>
                                </div>
                    </div>
                </div>
            </div>

            <img src="img/quiz.png" class="rounded float-left animated tada hvr-wobble-to-bottom-right" id="img-quiz"></a>
            <h1 class="display-4 animated fadeIn slow" id="txt-quiz">Quizzes</h1>
        </div>
        <div class="lesson" style="display: none">
            <a href="input.html"><img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="in-menu"></a>
            <h1 class="display-4 animated zoomIn" id="txt-int">Input Devices</h1>

            <a><img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="ot-menu"></a>
            <h1 class="display-4 animated zoomIn" id="txt-out">Output Devices</h1>

            <a><img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="st-menu"></a>
            <h1 class="display-4 animated zoomIn" id="txt-str">Storage Devices</h1>

            <a href="main.html"><button type="button" class="btn btn-dark" id="ls-back">Back</button></a>
        </div>
        <div class="quiz">
            <a><button type="button" class="btn btn-secondary" id="quiz-back">Back</button></a>
            <img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="inputQuiz" value="inputQuiz">
            <h1 class="display-4 animated zoomIn" id="txt-int">Input Devices</h1>

            <img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="outputQuiz" value="outputQuiz">
            <h1 class="display-4 animated zoomIn" id="txt-out">Output Devices</h1>

            <img src="img/lesson.png" class="rounded float-left hvr-grow-shadow" id="storageQuiz" value="storageQuiz">
            <h1 class="display-4 animated zoomIn" id="txt-str">Storage Devices</h1>
            <form action="./alima/quiz1.html" method="get" id="form">
                <input type="hidden" id="selectedQuiz" name="quiz">
            </form>
            <script>
                $(document).ready(() => {
                    $(".quiz").find('img').click((e) => {
                        $("#selectedQuiz").attr("value", e.target.id);

                        //gets the localstorage map and checks if the student have looked into all lessons
                        let inputLessonsArray = JSON.parse(localStorage.getItem("inputLessonsMap"));
                        let inputLessonsMap = new Map(inputLessonsArray.map(i=>[i[0],i[1]]));
                        if(inputLessonsMap.get('haveFinishedAll')===true)
                        $("#form").submit();
                    });
                    $(".row").find('img').click((e) => {
                        console.log("you clicked on lessons folder");
                        if(JSON.parse(localStorage.getItem("isTakingQuiz"))===true){
                            Swal.fire({
                    title: `You can't do that.`,
                    text: `You're currently taking a quiz, you can't access the lessons yet.`,
                    type: 'confirm'
                }).then(() => {
                    window.location.href = "main.html";
                })
                        }
                    });
                    // $("#quizbutton").click((e)=>{
                    //     $("#selectedQuiz").attr("value",$(this).attr("value"));
                    //     alert($("#selectedQuiz").val());
                    //     $("#form").submit();
                    // });
                });
            </script>
            <a href="main.html"><button type="button" class="btn btn-outline-primary">Back</button></a>
        </div>

    </section>
    <script src="js/particles.js"></script>
    <script src="js/app.js"></script>
    <script type="text/javascript"></script>
    <script type="text/javascript" src="js/fancybox.js"></script>

    <script>
        $(document).ready(function () {
            $("#img-quiz").hover(function () {
                $(this).addClass("animated wobble slower");
            }, function () {
                $(this).removeClass("animated wobble slower");
            });
        });
        $(".quiz").hide();
        $("#img-quiz").click(function () {

            $(".quiz").slideDown();
            $(".row").hide();
        });
    </script>
    <script>
        $(document).ready(function () {
            $("#img-lessons").hover(function () {
                $(this).addClass("animated wobble slower");
            }, function () {
                $(this).removeClass("animated wobble slower");
            });
        });
        $(".lesson").hide();
        $("#img-lessons").click(function () {

            $(".lesson").fadeIn();
            $(".row").hide();
        });
    </script>
    <script src="jquery.js"></script>
    <script src="bootstrap-4.0.0-dist/js/bootstrap.js"></script>
</body>

</html>